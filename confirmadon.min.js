;(function(e,n){if(typeof define==="function"&&define.amd)define(["jquery"],n);else if(typeof exports==="object")module.exports=n(require("jquery"));else{e.confirmadon=n(e.jQuery)}})(this,function($,e){"use strict";var n="confirmadon",t="0.1.3",i={bindTo:null,replacements:{title:"Confirm",message:"Are you sure you want to perform this action?",yes:"Yes",no:"No"},template:'<div class="confirmadon-wrap" style="background:rgba(0,0,0,0.5); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 20000;">'+'<div class="confirmadon-modal" style="padding:20px; background:#fff; position: fixed; top: 50%; left: 50%; width: 240px; height: 140px; margin-top: -70px; margin left: -120px; z-index: 20001;">'+'<h4>{{title}}</h4><p>{{message}}</p><a class="confirmadon-yes" href="">{{yes}}</a><a class="confirmadon-no" href="">{{no}}</a>'+"</div>"+"</div>",noSelector:".confirmadon-no",yesSelector:".confirmadon-yes",visibleClass:"confirmadon-visible",onBeforeShow:null,onAfterShow:null,onBeforeHide:null,onAfterHide:null,onAfterConfirm:null,onAfterDeny:null,fade:true,applyDefaultOnConfirm:true};function o(e,n,t,o){this.$element=$(e);this.idx=n;this.selector=t;this.settings=$.extend(true,{},i,o);if(!this.$element.is(".confirmadon"))this.init()}o.prototype={init:function(){var e=this.$element,n=this.settings,t=this,i=this.bindingStr();e.off(i).on(i,function(i){if(e.is(".confirmed")){e.removeClass("confirmed")}else{i.preventDefault();if(typeof onBeforeShow=="function")onBeforeShow.call(e[0],t);var o=e.attr("data-title")||n.replacements.title,s=e.attr("data-message")||n.replacements.message,f=e.attr("data-yes")||n.replacements.yes,r=e.attr("data-no")||n.replacements.no,a=e.attr("data-template")||n.template,l=$(a).clone();l.html(l.html().replace(/\{\{title\}\}/,o).replace(/\{\{message\}\}/,s).replace(/\{\{yes\}\}/,f).replace(/\{\{no\}\}/,r));l.find(n.yesSelector).on("click",function(o){o.preventDefault();t.close(l);if(n.applyDefaultOnConfirm){e.addClass("confirmed");setTimeout(function(){t.triggerEvent(e[0],i.type)},0)}if(typeof n.onAfterConfirm=="function")n.onAfterConfirm.call(e[0],t)});l.find(n.noSelector).on("click",function(i){i.preventDefault();t.close(l);if(typeof n.onAfterDeny=="function")n.onAfterDeny.call(e[0],t)});t.open(l)}})},triggerEvent:function(e,n,t,i){t=document;if(t.createEvent){if(["mousedown","mouseup","click","dblclick","mousemove","mouseover","mouseout"].indexOf(n)!=-1)i=new MouseEvent(n);else i=new Event(n);e.dispatchEvent(i)}else{i=t.createEventObject();e.fireEvent("on"+n,i)}},bindingStr:function(e){var n=this.$element,t=this.settings,i=e||"confirmadon",o=t.bindTo;if(!o){if(n.is("form"))o="submit";else o="click"}o=o.split(" ").map(function(e){return e+(i?"."+i:"")}).join(" ");return o},open:function(e){var n=this.settings,t=this.$element,i=this;if(n.fade){$("body").append(e.hide());e.fadeIn(400,function(){e.addClass(n.visibleClass);if(typeof n.onAfterShow=="function")n.onAfterShow.call(t[0],i,e)})}else{$("body").append(e);if(e.css("transition")&&parseFloat(e.css("transition-duration")))e.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){if(typeof n.onAfterShow=="function")n.onAfterShow.call(t[0],i,e)});else if(typeof n.onAfterShow=="function")n.onAfterShow.call(t[0],i,e);e.addClass(n.visibleClass)}},close:function(e,n){var t=this.settings,i=this.$element,o=this;if(typeof t.onBeforeHide=="function")t.onBeforeHide.call(i[0],o,e);if(t.fade){e.fadeOut(400,function(){e.remove();if(typeof t.onAfterHide=="function")t.onAfterHide.call(i[0],o)})}else{e.removeClass(t.visibleClass);if(e.css("transition")&&parseFloat(e.css("transition-duration")))e.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){e.remove();if(typeof t.onAfterHide=="function")t.onAfterHide.call(i[0],o)});else{e.remove();if(typeof t.onAfterHide=="function")t.onAfterHide.call(i[0],o)}}},destroy:function(){}};$.fn[n]=function(e){var t=this.selector;return this.each(function(i){if(!$.data(this,"plugin_"+n)){$.data(this,"plugin_"+n,new o(this,i,t,e))}})}});
