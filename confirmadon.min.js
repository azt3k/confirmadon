;(function($,e,n,t){"use strict";var i="confirmadon",o="0.1.0",s={bindTo:null,replacements:{message:"Are you sure you want to perform this action?",yes:"Yes",no:"No"},template:'<div class="confirmadon-wrap" style="background:rgba(0,0,0,0.5); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 20000;">'+'<div class="confirmadon-modal" style="padding:20px; background:#fff; position: fixed; top: 50%; left: 50%; width: 240px; height: 140px; margin-top: -70px; margin left: -120px; z-index: 20001;">'+'<p>{{message}}</p><a class="confirmadon-yes" href="">{{yes}}</a><a class="confirmadon-no" href="">{{no}}</a>'+"</div>"+"</div>",noSelector:".confirmadon-no",yesSelector:".confirmadon-yes",visibleClass:"confirmadon-visible",onBeforeDisplay:null,onAfterDisplay:null,onAfterConfirm:null,onAfterDeny:null,fade:true,applyDefaultOnConfirm:true};function a(e,n,t,i){this.$element=$(e);this.idx=n;this.selector=t;this.settings=$.extend(true,{},s,i);if(!this.$element.is(".confirmadon"))this.init()}a.prototype={init:function(){var e=this.$element,n=this.settings,t=this,i=this.bindingStr();e.off(i).on(i,function(i){if(e.is(".confirmed")){e.removeClass("confirmed")}else{console.log("ooooo");i.preventDefault();if(typeof onBeforeDisplay=="function")onBeforeDisplay.call(e[0]);var o=e.attr("data-message")||n.replacements.message,s=e.attr("data-yes")||n.replacements.yes,a=e.attr("data-no")||n.replacements.no,f=$(n.template).clone();f.html(f.html().replace(/\{\{message\}\}/,o).replace(/\{\{yes\}\}/,s).replace(/\{\{no\}\}/,a));f.find(n.yesSelector).on("click",function(o){o.preventDefault();t.close(f);if(n.applyDefaultOnConfirm){e.addClass("confirmed");setTimeout(function(){t.triggerEvent(e[0],i.type)},0)}if(typeof n.onAfterConfirm=="function")n.onAfterConfirm.call(e[0])});f.find(n.noSelector).on("click",function(i){i.preventDefault();t.close(f);if(typeof n.onAfterDeny=="function")n.onAfterDeny.call(e[0])});t.open(f)}})},triggerEvent:function(e,t,i,o){i=n;if(i.createEvent){if(["mousedown","mouseup","click","dblclick","mousemove","mouseover","mouseout"].indexOf(t)==-1)o=new Event(t);else o=new MouseEvent(t);e.dispatchEvent(o)}else{o=i.createEventObject();e.fireEvent("on"+t,o)}},bindingStr:function(e){var n=this.$element,t=this.settings,i=e||"confirmadon",o=t.bindTo;if(!o){if(n.is("form"))o="submit";else o="click"}o=o.split(" ").map(function(e){return e+(i?"."+i:"")}).join(" ");return o},open:function(e){var n=this.settings;if(n.fade){$("body").append(e.hide());e.fadeIn(400,function(){e.addClass(n.visibleClass);if(typeof n.onAfterDisplay=="function")n.onAfterDisplay.call($elem[0])})}else{$("body").append(e);if(e.css("transition"))e.one("transitionend.move webkitTransitionEnd.move oTransitionEnd.move otransitionend.move MSTransitionEnd.move",function(){if(typeof n.onAfterDisplay=="function")n.onAfterDisplay.call($elem[0])});else if(typeof n.onAfterDisplay=="function")n.onAfterDisplay.call($elem[0]);e.addClass(n.visibleClass)}},close:function(e,n){var t=this.settings;if(t.fade){e.fadeOut(400,function(){e.remove()})}else{e.removeClass(t.visibleClass);setTimeout(function(){e.remove()},3e4)}},destroy:function(){}};$.fn[i]=function(e){var n=this.selector;return this.each(function(t){if(!$.data(this,"plugin_"+i)){$.data(this,"plugin_"+i,new a(this,t,n,e))}})}})(jQuery,window,document);
